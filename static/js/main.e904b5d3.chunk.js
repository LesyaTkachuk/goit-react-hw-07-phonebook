(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{10:function(t,e,n){t.exports={themeSwitch:"ThemeToggler_themeSwitch__20CFH",themeSwitch_container:"ThemeToggler_themeSwitch_container__3qS8Y",themeSwitch__icon:"ThemeToggler_themeSwitch__icon__301SI",switch:"ThemeToggler_switch__34P_C",switch__input:"ThemeToggler_switch__input__1DETX",switch__label:"ThemeToggler_switch__label__1x0wu",switch__marker:"ThemeToggler_switch__marker__3xRSn"}},11:function(t,e,n){t.exports={form:"ContactForm_form__2-QI3",label:"ContactForm_label__3grAE",input:"ContactForm_input__1MfPb",button:"ContactForm_button__1M-aE"}},12:function(t,e,n){t.exports={layout:"Layout_layout__3RLVn",container:"Layout_container__1Dtq9",light:"Layout_light__3k1EY",dark:"Layout_dark__1-yQW"}},19:function(t,e,n){t.exports={list:"ContactList_list__3afR0",list__light:"ContactList_list__light__3-4o5",list__dark:"ContactList_list__dark__3VFXz"}},24:function(t,e,n){t.exports={section:"Section_section__drjhT",title:"Section_title__2W19X"}},25:function(t,e,n){t.exports={input:"Filter_input__3lZe3"}},26:function(t,e,n){t.exports={item:"ContactListItem_item__3pB36",name:"ContactListItem_name__1df4F"}},40:function(t,e,n){t.exports=n(88)},87:function(t,e,n){},88:function(t,e,n){"use strict";n.r(e);var a,c,r,o=n(0),i=n.n(o),s=n(8),l=n.n(s),u=n(4),m=n(1),d=n(2),h=n(20),b=n(6),f={getContactsRequest:Object(m.b)("contacts/getRequest"),getContactsSuccess:Object(m.b)("contacts/getSuccess"),getContactsError:Object(m.b)("contacts/getError"),addContactRequest:Object(m.b)("contacts/addRequest"),addContactSuccess:Object(m.b)("contacts/addSuccess"),addContactError:Object(m.b)("contacts/addError"),deleteContactRequest:Object(m.b)("contacts/deleteRequest"),deleteContactSuccess:Object(m.b)("contacts/deleteSuccess"),deleteContactError:Object(m.b)("contacts/deleteError"),filterContacts:Object(m.b)("contacts/filter"),toggleError:Object(m.b)("contacts/toggleError")},g={items:[],filter:"",isLoading:!1,error:""},_=Object(m.c)(g.items,(a={},Object(d.a)(a,f.getContactsSuccess,(function(t,e){var n=e.payload;return[].concat(Object(h.a)(n),Object(h.a)(t))})),Object(d.a)(a,f.addContactSuccess,(function(t,e){return[e.payload].concat(Object(h.a)(t))})),Object(d.a)(a,f.deleteContactSuccess,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),a)),C=Object(m.c)(g.filter,Object(d.a)({},f.filterContacts,(function(t,e){return e.payload}))),p=Object(m.c)(g.isLoading,(c={},Object(d.a)(c,f.getContactsRequest,(function(){return!0})),Object(d.a)(c,f.getContactsSuccess,(function(){return!1})),Object(d.a)(c,f.getContactsError,(function(){return!1})),Object(d.a)(c,f.addContactRequest,(function(){return!0})),Object(d.a)(c,f.addContactSuccess,(function(){return!1})),Object(d.a)(c,f.addContactError,(function(){return!1})),Object(d.a)(c,f.deleteContactRequest,(function(){return!0})),Object(d.a)(c,f.deleteContactSuccess,(function(){return!1})),Object(d.a)(c,f.deleteContactError,(function(){return!1})),c)),E=Object(m.c)(g.error,(r={},Object(d.a)(r,f.getContactsError,(function(t,e){return e.payload})),Object(d.a)(r,f.addContactError,(function(t,e){return e.payload})),Object(d.a)(r,f.deleteContactError,(function(t,e){return e.payload})),Object(d.a)(r,f.toggleError,(function(){return""})),r)),O=Object(b.c)({items:_,filter:C,loading:p,error:E}),j=Object(m.b)("theme/toggle"),v=Object(m.c)({isChecked:!1},Object(d.a)({},j,(function(t,e){return{isChecked:e.payload}}))),w=Object(m.a)({reducer:{contacts:O,themeToggler:v}}),k=function(t){return t.themeToggler.isChecked},y=n(12),S=n.n(y);var N=Object(u.b)((function(t){return{isChecked:k(t)}}))((function(t){var e=t.children,n=t.isChecked;return i.a.createElement("div",{className:"".concat(S.a.layout," ").concat(n?S.a.dark:S.a.light)},i.a.createElement("div",{className:S.a.container}," ",e))})),T=n(24),x=n.n(T);var L=function(t){var e=t.title,n=t.children;return t.error,i.a.createElement("section",{className:x.a.section},e&&i.a.createElement("h2",{className:x.a.title},e),n)},F=n(7),R=function(t){return t.contacts.items},q=function(t){return t.contacts.filter},B={getContacts:R,getFilter:q,getError:function(t){return t.contacts.error},getLoading:function(t){return t.contacts.loading},getVisibleContacts:Object(F.a)([R,q],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),getContactById:Object(F.a)([function(t,e){return e},R],(function(t,e){return e.find((function(e){return e.id===t}))}))},P=n(13),D=n.n(P);D.a.defaults.baseURL="http://localhost:3003";var I={getContacts:function(){return function(t){t(f.getContactsRequest()),D.a.get("/contacts").then((function(e){var n=e.data;return t(f.getContactsSuccess(n))})).catch((function(e){var n=e.message;return t(f.getContactsError(n))}))}},addContact:function(t,e){return function(n){n(f.addContactRequest()),D.a.post("/contacts",{name:t,number:e}).then((function(t){var e=t.data;return n(f.addContactSuccess(e))})).catch((function(t){var e=t.message;return n(f.addContactError(e))}))}},deleteContact:function(t){return function(e){e(f.deleteContactRequest(t)),D.a.delete("/contacts/".concat(t)).then((function(){return e(f.deleteContactSuccess(t))})).catch((function(t){var n=t.message;return e(f.deleteContactError(n))}))}}},z=n(15),M=n(16),A=n(18),V=n(17),X=n(11),J=n.n(X),Q=function(t){Object(A.a)(n,t);var e=Object(V.a)(n);function n(){var t;Object(z.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(d.a)({},a,c))},t.handleSubmit=function(e){var n=t.state,a=n.name,c=n.number;e.preventDefault(),t.checkContact(a,c),t.setState({name:"",number:""})},t.checkContact=function(e,n){var a=t.props,c=a.showNotif,r=a.addContact;""!==e?""!==n?t.hasContact(e)?c("".concat(e," is already in contacts")):r(e,n):c("Please enter contact phone number"):c("Please enter some information")},t.hasContact=function(e){return t.props.contacts.some((function(t){return t.name===e}))},t}return Object(M.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return i.a.createElement("form",{onSubmit:this.handleSubmit,className:J.a.form},i.a.createElement("label",{className:J.a.label},"Name",i.a.createElement("input",{type:"text",name:"name",value:e,onChange:this.handleChange,className:J.a.input})),i.a.createElement("label",{className:J.a.label},"Phone",i.a.createElement("input",{type:"text",name:"number",value:n,onChange:this.handleChange,className:J.a.input})),i.a.createElement("button",{type:"submit",className:J.a.button},"Add contact"))}}]),n}(o.Component),W={showNotif:f.addContactError,addContact:I.addContact},Y=Object(u.b)((function(t){return{contacts:B.getContacts(t)}}),W)(Q),H=n(25),U=n.n(H);var Z=function(t){var e=t.contacts,n=t.filter,a=t.onChangeFilter;return i.a.createElement(i.a.Fragment,null,e.length>1&&i.a.createElement("label",{className:U.a.label},"Find contact by name",i.a.createElement("input",{type:"text",value:n,onChange:function(t){return a(t.target.value)},className:U.a.input})))},G={onChangeFilter:f.filterContacts},K=Object(u.b)((function(t){return{contacts:B.getContacts(t),filter:B.getFilter(t)}}),G)(Z),$=n(38),tt=n.n($),et=function(){return i.a.createElement(tt.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})},nt=n(39),at=n(26),ct=n.n(at);var rt=function(t){var e=t.id,n=t.name,a=t.number,c=t.onClickDelete;return i.a.createElement("li",{key:e,className:ct.a.item},i.a.createElement("span",{className:ct.a.name},n,": "),i.a.createElement("span",null,a),i.a.createElement("button",{type:"button",onClick:c},"Delete"))},ot=Object(u.b)((function(t,e){var n=B.getContactById(t,e.id);return Object(nt.a)({},n)}),(function(t,e){return{onClickDelete:function(){return t(I.deleteContact(e.id))}}}))(rt),it=n(19),st=n.n(it);var lt=function(t){var e=t.contacts,n=t.isLoading,a=t.isChecked,c=t.getContacts;return Object(o.useEffect)((function(){c()}),[c]),i.a.createElement(i.a.Fragment,null,n&&i.a.createElement(et,null),e.length>0&&i.a.createElement("ul",{className:"".concat(st.a.list," ").concat(a?st.a.list__dark:st.a.list__light)},e.map((function(t){var e=t.id;return i.a.createElement(ot,{key:e,id:e})}))))},ut={getContacts:I.getContacts},mt=Object(u.b)((function(t){return{contacts:B.getVisibleContacts(t),isLoading:B.getLoading(t),isChecked:k(t)}}),ut)(lt),dt=n(10),ht=n.n(dt),bt=function(t){var e=t.isChecked,n=t.onThemeToggle;return i.a.createElement("div",{className:ht.a.themeSwitch},i.a.createElement("div",{className:ht.a.themeSwitch_container},i.a.createElement("svg",{"aria-hidden":"true","data-prefix":"fas","data-icon":"sun",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:ht.a.themeSwitch__icon},i.a.createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),i.a.createElement("div",{className:ht.a.switch},i.a.createElement("input",{className:ht.a.switch__input,type:"checkbox",name:"theme",id:"theme-switch-control",checked:e,onChange:function(){return n(!e)}}),i.a.createElement("label",{"aria-hidden":"true",className:ht.a.switch__label,htmlFor:"theme-switch-control"},"On"),i.a.createElement("div",{"aria-hidden":"true",className:ht.a.switch__marker})),i.a.createElement("svg",{"aria-hidden":"true","data-prefix":"fas","data-icon":"moon",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:ht.a.themeSwitch__icon},i.a.createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))))},ft={onThemeToggle:j},gt=Object(u.b)((function(t){return{isChecked:k(t)}}),ft)(bt),_t=n(27),Ct=(n(86),function(t){Object(A.a)(n,t);var e=Object(V.a)(n);function n(){return Object(z.a)(this,n),e.apply(this,arguments)}return Object(M.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.error;Object(_t.b)("\ud83e\udd84 ".concat(e)),setTimeout((function(){t.props.toggleError()}),5e3)}},{key:"render",value:function(){return i.a.createElement(_t.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,rtl:!1})}}]),n}(o.Component)),pt={toggleError:f.toggleError},Et=Object(u.b)((function(t){return{error:B.getError(t)}}),pt)(Ct),Ot=Object(u.b)((function(t){return{error:t.contacts.error}}))((function(t){var e=t.error;return i.a.createElement(N,null,i.a.createElement(gt,null),i.a.createElement(L,{title:"Phonebook"},i.a.createElement(Y,null)),i.a.createElement(L,{title:"Contacts"},i.a.createElement(K,null),i.a.createElement(mt,null)),e&&i.a.createElement(Et,null))}));n(87);l.a.render(i.a.createElement(u.a,{store:w},i.a.createElement(Ot,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.e904b5d3.chunk.js.map